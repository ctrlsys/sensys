<?xml version="1.0" encoding="UTF-8" ?>
<!-- EXAMPLE FILE - ERASE ALL COMMENTS OR IT WILL NOT WORK! -->
<configuration>
    <version>3</version>
    <role>RECORD</role>
    <junction>
        <type>cluster</type>
        <name>default_cluster</name>
        <junction>
            <type>row</type>
            <name>default_row</name>
            <junction>
                <type>rack</type>
                <name>rack</name>
                <controller>
                     <host>localhost</host>
                     <port>55805</port>
                     <aggregator>yes</aggregator>
                </controller>
                <junction>
                     <type>node</type>
                     <name>node</name>
                </junction>
            </junction>
        </junction>
    </junction>

    <scheduler>
        <shost>localhost</shost>
        <port>55820</port>
    </scheduler>

    <workflows>
        <workflow name = "default_average">
            <step name = "filter">
                <data_group>coretemp</data_group>
            </step>
            <step name = "aggregate">
                <operation>average</operation>
                <db>yes</db>
            </step>
        </workflow>

        <workflow name = "default_threshold">
            <step name = "filter">
                <data_group>coretemp</data_group>
            </step>
            <step name = "threshold">
                <policy>hi|45|warning|syslog</policy>
                <db>yes</db>
            </step>
        </workflow>

        <workflow name = "default_syslog">
            <step name = "filter">
                <data_group>syslog</data_group>
            </step>
            <step name = "genex">
                <severity>crit</severity>
                <db>yes</db>
            </step>
        </workflow>
    </workflows>
    <!-- The following is an example of the IPMI section
    <ipmi>
        <bmc_node name="node04">
            <bmc_address>192.168.0.104</bmc_address>
            <user>bmc_username_01</user>
            <pass>bmc_password_01</pass>
            <auth_method>PASSWORD</auth_method>
            <priv_level>USER</priv_level>
            <aggregator>agg01</aggregator>
        </bmc_node>
    </ipmi>
    -->
    <!-- The following is an example of the SNMP section
    <snmp>
        <config name="snmp1" version="3" user="user" pass="12345678" auth="MD5" sec="AUTHNOPRIV">
            <aggregator>localhost</aggregator>
            <hostname>server[2:0-20],server21</hostname>
            <oids>1.3.6.1.4.1.343.1.1.3.1,1.3.6.1.4.1.343.1.1.3.4</oids>
        </config>
        <config name="snmp2" version="1" user="user" location="X Lab">
            <aggregator>node01</aggregator>
            <hostname>switches[2:0-20],switch21</hostname>
            <oids>1.3.6.1.4.1.343.1.1.3.1,1.3.6.1.4.1.343.1.1.3.4</oids>
        </config>
    </snmp>
    -->

    <openmpi-mca-params>
        <!--Basic behavior to smooth startup-->
        mca_base_component_show_load_errors = 1
        mpi_param_check = 0
        orte_abort_timeout = 10
        hwloc_base_mem_bind_failure_action = silent

        <!--Add the interface for out-of-band communication and set it up-->
        oob_tcp_peer_retries = 120
        <!--oob_tcp_connect_timeout=600-->

        <!--Define the MPI interconnects-->
        btl = sm,tcp,self

        <!--Setup shared memory-->
        btl_sm_free_list_max = 768

        sensor_ipmi_sel_state_filename = /var/run/orcmd_sel_state_table

        sensor_ft_tester_fail_prob=0
        sensor_ft_tester_daemon_fail_prob=0
        sensor_ft_tester_aggregator_fail_prob=0

        sensor_base_sample_rate=300
        sensor_heartbeat_rate=10
        sensor_base_log_samples=1
        db_print_file=-
        <!--disable munge-->
        sec = ^munge

        <!--Enable Database collection from Analytics-->
        analytics_base_store_raw_data = true

        <!--Enable/Disable Database collection of Events from Analytics-->
        analytics_base_store_event_data = true

        <!--Notifier SMTP settings-->
        notifier_smtp_server=localhost
        notifier_smtp_port=25
        notifier_smtp_to = to-name@email.com
        notifier_smtp_from_addr = from-name@email.com
        notifier_smtp_from_name = SMTP-SERVER
        notifier_smtp_subject= MONITORING-SYSTEM-EXCEPTION-EVENT
        notifier_smtp_priority = 1
        notifier_smtp_body_prefix = EVENT NOTIFICATION MESSAGE BEGIN
        notifier_smtp_body_suffix = EVENT NOTIFICATION MESSAGE END
    </openmpi-mca-params>
</configuration>
